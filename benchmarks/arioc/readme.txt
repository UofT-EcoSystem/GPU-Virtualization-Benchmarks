*
* readme.txt
*
* updated: 2018.09.24 (Richard Wilton <richard.wilton@jhu.edu>)
*


Please see the Arioc user guide (Arioc.guide.pdf) for details regarding the Arioc encoder and aligner components
as well as for information about required hardware and system software.


0. Arioc distribution files

AriocSetup.msi         Windows installer archive
Arioc.w.130.zip        Windows source code
Arioc.x.130.zip        Linux source code
Arioc.RQA.130.zip      sample configuration and data files


1. Installation

The Arioc distribution consists of source code, sample configuration and data files, and (for Windows)
executable binaries.  Here is a model Arioc directory layout:

/Arioc
    /R
        /S_cerevisiae
            /raw
                chr01.fsa
                ...
                chrmt.fsa
            /enc
            AriocE.gapped.cfg
            AriocE.nongapped.cfg
        /GRCh38
            /raw
            /enc
            AriocE.gapped.cfg
            AriocE.nongapped.cfg
    /Q
        /S_cerevisiae
            /raw
                i100p_1.fastq
                i100p_2.fastq
            /enc.unpaired
            /enc.paired
            AriocE.paired.cfg
            AriocE.unpaired.cfg
        /GRCh38
            /raw
                i100p_1.fastq
                i100p_2.fastq
                BStest13_1.fastq
                BStest13_2.fastq
            /enc.unpaired
            /enc.paired
            AriocE.paired.cfg
            AriocE.unpaired.cfg
            AriocE.paired.CT.cfg
            AriocE.unpaired.CT.cfg
    /A
        /S_cerevisiae
            /paired
            /unpaired
            AriocP.paired.cfg
            AriocU.unpaired.cfg
        /GRCh38
            /paired
            /unpaired
            AriocP.paired.cfg
            AriocU.unpaired.cfg
    /src (Linux only)
        makefile
        ...
    /bin (Linux only)
        AriocE
        AriocU
        AriocP

FASTA-formatted reference-genome files for S. cerevisiae are distributed with Arioc; however, human reference
genome files must be obtained from a public repository.


1a. Windows

The Windows installer (AriocSetup.msi) places the Arioc executables in the "usual" location
(Program Files\Arioc) and updates the PATH environment variable accordingly.  You may override
this behavior during Windows installation.

There is no Arioc source code in the Windows installer distribution.  (The Windows sources are
archived in Arioc.w.130.zip.)


1b. Linux

There are no precompiled binaries for Linux.  You must build Arioc from source code.

1b1. Place Arioc.x.130.zip and Arioc.RQA.130.zip in a directory (e.g., /Arioc).

1b2. Extract the Arioc sources and sample files:
    unzip Arioc.x.130.zip
    unzip Arioc.RQA.130.zip

1b3. Use the makefile to compile the Arioc binaries:
    cd /Arioc/src
    make AriocE
    make AriocP
    make AriocU

The makefile places the binaries in an adjacent directory (e.g., /Arioc/bin).

Arioc v1.30 has been compiled and tested with...
    g++ v5.5.0
    CUDA toolkit v9.2

More recent versions of these tools should be expected to work properly.


2. Running Arioc

Use the configuration-file examples and data in this directory structure to step through the process of
building lookup tables for the reference genome, encoding the reads, and computing alignments:


2a. Encode the reference sequence (in this example, the S. cerevisiae genome) and build the associated
lookup tables:

   At a command (shell) prompt in directory R/S_cerevisiae:
        ../../bin/AriocE AriocE.gapped.cfg
        ../../bin/AriocE AriocE.nongapped.cfg

2b. Encode the reads (in this case, simulated 100nt paired-end reads generated by Mason):

   In directory Q/S_cerevisiae:
       ../../bin/AriocE AriocE.paired.cfg

   Although the simulated reads are paired, you can also encode them as unpaired reads:
       ../../bin/AriocE AriocE.unpaired.cfg

2c. Align the reads:

   In directory A/S_cerevisiae:
       ../../bin/AriocP AriocP.paired.cfg

   If you encoded the simulated data as unpaired reads, you can also do unpaired alignments:
       ../../bin/AriocU AriocU.unpaired.cfg


The GRCh38 subdirectory of the R, Q, and A directories contains configuration files and test data
for alignments with the human reference genome.  Download the FASTA representation of each of the
individual chromosomes (1-22, X, Y, MT) into R/GRCh38/raw.  Use the provided .cfg files as a
starting point for both non-BS-seq and BS-seq alignments.
